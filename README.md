# digital_identity

## Google Colab

Открыть блокнот в Colab: [text_parsing_colab.ipynb](https://colab.research.google.com/github/Sandrro/digital_identity/blob/main/notebooks/text_parsing_colab.ipynb)


## Сводный туториал

Блокнот разделён на две группы инструментов: **сбор данных** и **анализ**. Ниже — краткий пошаговый сценарий, который повторяет интерфейсы блокнота.

### Инструменты сбора данных: парсинг сообщений

1. Откройте блокнот в Colab и выполните ячейки **«Установка зависимостей»** и **«Импорт парсеров»**.
2. В интерактивной форме выберите источник (сайты / ВК).
3. Укажите URL или домен. Для ВК дополнительно вставьте токен доступа.
4. Задайте лимит записей и нажмите **«Запустить»**.
5. Результаты сохраняются в `parsed_texts.csv` — этот файл используется всеми инструментами анализа.

### Инструменты анализа

**Геокодирование и карта**
1. Укажите путь к CSV/GeoJSON (обычно `parsed_texts.csv`) или загрузите файл.
2. При необходимости задайте `BBox` или укажите территорию и нажмите **«Определить BBox»**.
3. Нажмите **«Геокодировать»** — получите GeoJSON и интерактивную карту.

**Классификация эмоций**
1. Укажите путь к CSV/GeoJSON или загрузите файл.
2. Проверьте путь к выходному файлу.
3. Нажмите **«Классифицировать»** — получите файл с колонкой `emotion` и диаграмму распределения.

**Тематическое моделирование (BERTopic)**
1. Укажите путь к CSV/GeoJSON или загрузите файл.
2. Проверьте колонку `text` и (при наличии) колонку времени.
3. Нажмите **«Обработать»** — получите файл с темами и визуализации.

**Извлечение ключевых слов (KeyBERT)**
1. Укажите путь к CSV/GeoJSON или загрузите файл.
2. Проверьте колонку текста, настройте стоп‑слова и n‑граммы.
3. Нажмите **«Извлечь ключевые слова»** — результат сохраняется в файле и выводится график топ‑слов.

**Семантическая лепестковая диаграмма**
1. Укажите путь к CSV/GeoJSON и колонку текста.
2. Задайте оси в формате `Название | левые слова | правые слова` (каждая ось в отдельной строке).
3. Нажмите **«Построить»** — получите таблицу оценок и лепестковую диаграмму.

**Семантическая карта**
1. Укажите путь к CSV/GeoJSON и колонку текста.
2. Задайте ровно две оси в формате `Название | левые слова | правые слова`.
3. Нажмите **«Построить»** — точки строятся на карте, где оси пересекаются в центре.

**Облако слов**
1. Укажите путь к CSV/GeoJSON или загрузите файл.
2. Настройте стоп‑слова (например, `russian`).
3. Нажмите **«Построить»** — отобразится облако слов и сохранится изображение.

## Скрипты

- `parsers/website_parser.py` — парсинг статических веб-страниц.
- `parsers/vk_group_parser.py` — парсинг постов групп ВК (адаптация VKParser для актуального Python).
- `parsers/geocoder.py` — извлечение адресов через NER и геокодирование через Photon (при загрузке модели показывается прогресс).
